module.exports=function(o,i,u){let r,s,v,c,t=!1,l=!1;const n={};let m=0,a=0,d={sensitivity:7,interval:100,timeout:0,handleFocus:!1};function f(e){r=e.clientX,s=e.clientY}function E(e){return t=!0,a=a&&clearTimeout(a),o.removeEventListener("mousemove",f,!1),1!==m&&(v=e.clientX,c=e.clientY,o.addEventListener("mousemove",f,!1),a=setTimeout(()=>{!function e(t,n){if(a=a&&clearTimeout(a),Math.abs(v-r)+Math.abs(c-s)<d.sensitivity)return m=1,l?void 0:i.call(t,n);v=r,c=s,a=setTimeout(()=>{e(t,n)},d.interval)}(o,e)},d.interval)),this}function L(n){return t=!1,a=a&&clearTimeout(a),o.removeEventListener("mousemove",f,!1),1===m&&(a=setTimeout(()=>{var e,t;e=o,t=n,a=a&&clearTimeout(a),m=0,l||u.call(e,t)},d.timeout)),this}function e(e){t||(l=!0,i.call(o,e))}function h(e){!t&&l&&(l=!1,u.call(o,e))}function T(){o.addEventListener("focus",e,!1),o.addEventListener("blur",h,!1)}function b(){o.removeEventListener("focus",e,!1),o.removeEventListener("blur",h,!1)}return n.options=function(e){var t=e.handleFocus!==d.handleFocus;return d={...d,...e},t&&(d.handleFocus?T:b)(),n},n.remove=function(e){o&&(!0===e&&(m=1,L()),o.removeEventListener("mouseover",E,!1),o.removeEventListener("mouseout",L,!1),b())},o&&(o.addEventListener("mouseover",E,!1),o.addEventListener("mouseout",L,!1)),n};
